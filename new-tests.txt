############################## NO PENSIONS ##############################

Generalized linear mixed model fit by maximum likelihood (Adaptive Gauss-Hermite Quadrature, nAGQ
  = 0) [glmerMod]
 Family: binomial  ( logit )
Formula: rentsbi ~ factor(wave) + hsize + head_gendr + age + edu_ref +
    homeown + otherp + bonds + mutual + shares + managed + otherfin +
    haspvpens + class + (1 | sa0100) + (1 | sa0100:wave)
   Data: dataset_s
Weights: weights
Control: glmerControl(optimizer = "bobyqa", boundary.tol = 1e-05, calc.derivs = FALSE,
    optCtrl = list(maxfun = 2e+05))

     AIC      BIC   logLik deviance df.resid
 95382.8  95643.3 -47666.4  95332.8   247376

Scaled residuals:
   Min     1Q Median     3Q    Max
-5.006 -0.256 -0.141 -0.074 45.141

Random effects:
 Groups      Name        Variance Std.Dev.
 sa0100:wave (Intercept) 0.1212   0.3481
 sa0100      (Intercept) 0.4149   0.6441
Number of obs: 247401, groups:  sa0100:wave, 68; sa0100, 20

Fixed effects:
                      Estimate Std. Error z value Pr(>|z|)
(Intercept)          -4.051237   0.179562 -22.562  < 2e-16 ***
factor(wave)2        -0.230289   0.135339  -1.702 0.088835 .
factor(wave)3        -0.239418   0.133518  -1.793 0.072948 .
factor(wave)4        -0.316326   0.134243  -2.356 0.018454 *
hsize                -0.161252   0.008141 -19.807  < 2e-16 ***
head_gendrfemale      0.032630   0.017500   1.865 0.062235 .
age0-29               0.066814   0.045914   1.455 0.145617
age50-69              0.189579   0.023387   8.106 5.23e-16 ***
age+70                0.475989   0.032725  14.545  < 2e-16 ***
edu_refprimary       -0.172752   0.025370  -6.809 9.80e-12 ***
edu_reftertiary       0.114720   0.019373   5.922 3.19e-09 ***
homeownhomeowner      0.415362   0.022125  18.774  < 2e-16 ***
otherpmultiowner      1.759011   0.017931  98.100  < 2e-16 ***
bondshas-bonds        0.681735   0.034979  19.490  < 2e-16 ***
mutualhas-mutual      0.382457   0.024482  15.622  < 2e-16 ***
shareshas-shares      0.541688   0.023423  23.126  < 2e-16 ***
managedhas-managed    0.466888   0.040233  11.605  < 2e-16 ***
otherfinhas-otherfin  0.332500   0.035315   9.415  < 2e-16 ***
haspvpenshas-pvpens   0.583832   0.019006  30.719  < 2e-16 ***
classEmployer         0.804714   0.213651   3.766 0.000166 ***
classSelf-Employed    0.812477   0.175926   4.618 3.87e-06 ***
classManager         -0.223136   0.037131  -6.009 1.86e-09 ***
classInactive         0.371874   0.025645  14.501  < 2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

-----------------------------------------------------------------------------------------------

Generalized linear mixed model fit by maximum likelihood (Adaptive Gauss-Hermite Quadrature, nAGQ
  = 0) [glmerMod]
 Family: binomial  ( logit )
Formula: rentsbi ~ factor(wave) + hsize + head_gendr + age + edu_ref +
    homeown + otherp + bonds + mutual + shares + managed + otherfin +
    haspvpens + class_nomanager + (1 | sa0100) + (1 | sa0100:wave)
   Data: dataset_s
Weights: weights
Control: glmerControl(optimizer = "bobyqa", boundary.tol = 1e-05, calc.derivs = FALSE,
    optCtrl = list(maxfun = 2e+05))

     AIC      BIC   logLik deviance df.resid
 95404.7  95654.7 -47678.3  95356.7   247377

Scaled residuals:
   Min     1Q Median     3Q    Max
-5.071 -0.256 -0.141 -0.074 45.763

Random effects:
 Groups      Name        Variance Std.Dev.
 sa0100:wave (Intercept) 0.1220   0.3492
 sa0100      (Intercept) 0.4025   0.6345
Number of obs: 247401, groups:  sa0100:wave, 68; sa0100, 20

Fixed effects:
                      Estimate Std. Error z value Pr(>|z|)
(Intercept)          -4.065422   0.177978 -22.842  < 2e-16 ***
factor(wave)2        -0.287641   0.135404  -2.124   0.0336 *
factor(wave)3        -0.271470   0.133781  -2.029   0.0424 *
factor(wave)4        -0.320746   0.134602  -2.383   0.0172 *
hsize                -0.161904   0.008144 -19.879  < 2e-16 ***
head_gendrfemale      0.032302   0.017497   1.846   0.0649 .
age0-29               0.065353   0.045913   1.423   0.1546
age50-69              0.191229   0.023391   8.176 2.95e-16 ***
age+70                0.477549   0.032710  14.599  < 2e-16 ***
edu_refprimary       -0.170625   0.025347  -6.732 1.68e-11 ***
edu_reftertiary       0.113703   0.019368   5.871 4.34e-09 ***
homeownhomeowner      0.413350   0.022122  18.685  < 2e-16 ***
otherpmultiowner      1.757477   0.017921  98.066  < 2e-16 ***
bondshas-bonds        0.682340   0.034960  19.518  < 2e-16 ***
mutualhas-mutual      0.381103   0.024469  15.575  < 2e-16 ***
shareshas-shares      0.539837   0.023413  23.057  < 2e-16 ***
managedhas-managed    0.469020   0.040229  11.659  < 2e-16 ***
otherfinhas-otherfin  0.331243   0.035278   9.390  < 2e-16 ***
haspvpenshas-pvpens   0.584499   0.018999  30.765  < 2e-16 ***
class_nomanager2      0.927309   0.182655   5.077 3.84e-07 ***
class_nomanager3      0.751419   0.169691   4.428 9.50e-06 ***
class_nomanager4      0.421531   0.024326  17.328  < 2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

-----------------------------------------------------------------------------------------------
-------------------A) WITH MANAGERS
       Feature        Gain       Cover  Frequency
 1:     otherp 0.438037079 0.139309019 0.03181818
 2:     sa0100 0.270782323 0.287083126 0.29181818
 3:     shares 0.077526828 0.070409815 0.05303030
 4:  haspvpens 0.045791488 0.047687386 0.04303030
 5:      class 0.041156219 0.030833492 0.07484848
 6:        age 0.029340329 0.042139031 0.08575758
 7:      hsize 0.018514071 0.059372593 0.07727273
 8:     mutual 0.016243120 0.056242521 0.04121212
 9:      bonds 0.016043151 0.054994195 0.04787879
10:       wave 0.011703330 0.047357502 0.08696970
11:    homeown 0.011379344 0.052401044 0.03575758
12:    managed 0.009319232 0.043506992 0.04212121
13:    edu_ref 0.008693062 0.033461379 0.05000000
14:   otherfin 0.004822729 0.031517221 0.02878788
15: head_gendr 0.000647693 0.003684684 0.00969697
[1] "LightGBM Accuracy: 0.886507083641096"
Confusion Matrix and Statistics

          Reference
Prediction      0      1
         0 926172  62754
         1  64932  71199

               Accuracy : 0.8865
                 95% CI : (0.8859, 0.8871)
    No Information Rate : 0.8809
    P-Value [Acc > NIR] : < 2.2e-16

                  Kappa : 0.4628

 Mcnemar's Test P-Value : 1.112e-09

            Sensitivity : 0.53152
            Specificity : 0.93449
         Pos Pred Value : 0.52302
         Neg Pred Value : 0.93654
             Prevalence : 0.11906
         Detection Rate : 0.06328
   Detection Prevalence : 0.12100
      Balanced Accuracy : 0.73300

       'Positive' Class : 1

-------------------B) NO MANAGERS
            Feature         Gain       Cover   Frequency
 1:          otherp 0.4366349140 0.135680161 0.031212121
 2:          sa0100 0.2723810123 0.289586907 0.298787879
 3:          shares 0.0774079139 0.070409025 0.054848485
 4:       haspvpens 0.0457544384 0.040219080 0.043636364
 5: class_nomanager 0.0422057558 0.029942237 0.069696970
 6:             age 0.0283012078 0.048620932 0.080303030
 7:           hsize 0.0183581178 0.061412309 0.074545455
 8:          mutual 0.0171673091 0.053337558 0.042424242
 9:           bonds 0.0157161546 0.045484287 0.044242424
10:         homeown 0.0116684762 0.054139391 0.044848485
11:            wave 0.0114676532 0.051441610 0.085151515
12:         edu_ref 0.0090750875 0.033763825 0.053636364
13:         managed 0.0083657389 0.046780922 0.039393939
14:        otherfin 0.0049320909 0.035346232 0.029696970
15:      head_gendr 0.0005641296 0.003835522 0.007575758
[1] "LightGBM Accuracy: 0.885455581361655"
Confusion Matrix and Statistics

          Reference
Prediction      0      1
         0 924529  62497
         1  66372  71659

               Accuracy : 0.8855
                 95% CI : (0.8849, 0.886)
    No Information Rate : 0.8808
    P-Value [Acc > NIR] : < 2.2e-16

                  Kappa : 0.4614

 Mcnemar's Test P-Value : < 2.2e-16

            Sensitivity : 0.53415
            Specificity : 0.93302
         Pos Pred Value : 0.51915
         Neg Pred Value : 0.93668
             Prevalence : 0.11924
         Detection Rate : 0.06369
   Detection Prevalence : 0.12269
      Balanced Accuracy : 0.73358

       'Positive' Class : 1

############################## WITH PENSIONS ##############################

Generalized linear mixed model fit by maximum likelihood (Adaptive Gauss-Hermite Quadrature, nAGQ
  = 0) [glmerMod]
 Family: binomial  ( logit )
Formula: rentsbi_pens ~ factor(wave) + hsize + head_gendr + age + edu_ref +
    homeown + otherp + bonds + mutual + shares + managed + otherfin +
    haspvpens + class + (1 | sa0100) + (1 | sa0100:wave)
   Data: dataset_s
Weights: weights
Control: glmerControl(optimizer = "bobyqa", boundary.tol = 1e-05, calc.derivs = FALSE,
    optCtrl = list(maxfun = 2e+05))

     AIC      BIC   logLik deviance df.resid
108919.6 109180.1 -54434.8 108869.6   247376

Scaled residuals:
   Min     1Q Median     3Q    Max
-4.909 -0.288 -0.157 -0.078 38.750

Random effects:
 Groups      Name        Variance Std.Dev.
 sa0100:wave (Intercept) 0.09242  0.3040
 sa0100      (Intercept) 0.56037  0.7486
Number of obs: 247401, groups:  sa0100:wave, 68; sa0100, 20

Fixed effects:
                      Estimate Std. Error z value Pr(>|z|)
(Intercept)          -3.889599   0.192305 -20.226  < 2e-16 ***
factor(wave)2        -0.237667   0.118572  -2.004  0.04503 *
factor(wave)3        -0.219260   0.116917  -1.875  0.06075 .
factor(wave)4        -0.201388   0.117410  -1.715  0.08630 .
hsize                -0.140583   0.007614 -18.465  < 2e-16 ***
head_gendrfemale      0.007330   0.016187   0.453  0.65065
age0-29              -0.086426   0.044846  -1.927  0.05396 .
age50-69              0.347204   0.022212  15.631  < 2e-16 ***
age+70                0.718163   0.029961  23.970  < 2e-16 ***
edu_refprimary       -0.340046   0.023791 -14.293  < 2e-16 ***
edu_reftertiary       0.112652   0.017978   6.266  3.7e-10 ***
homeownhomeowner      0.337823   0.019786  17.074  < 2e-16 ***
otherpmultiowner      1.575182   0.016776  93.894  < 2e-16 ***
bondshas-bonds        0.646710   0.033568  19.265  < 2e-16 ***
mutualhas-mutual      0.363399   0.023052  15.764  < 2e-16 ***
shareshas-shares      0.546775   0.022425  24.382  < 2e-16 ***
managedhas-managed    0.430725   0.038572  11.167  < 2e-16 ***
otherfinhas-otherfin  0.318133   0.033633   9.459  < 2e-16 ***
haspvpenshas-pvpens   0.533512   0.017915  29.780  < 2e-16 ***
classEmployer         0.668284   0.205235   3.256  0.00113 **
classSelf-Employed    0.443700   0.164650   2.695  0.00704 **
classManager         -0.034027   0.035196  -0.967  0.33365
classInactive         0.658286   0.023356  28.185  < 2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
-----------------------------------------------------------------------------------------------

Generalized linear mixed model fit by maximum likelihood (Adaptive Gauss-Hermite Quadrature, nAGQ
  = 0) [glmerMod]
 Family: binomial  ( logit )
Formula: rentsbi_pens ~ factor(wave) + hsize + head_gendr + age + edu_ref +
    homeown + otherp + bonds + mutual + shares + managed + otherfin +
    haspvpens + class_nomanager + (1 | sa0100) + (1 | sa0100:wave)
   Data: dataset_s
Weights: weights
Control: glmerControl(optimizer = "bobyqa", boundary.tol = 1e-05, calc.derivs = FALSE,
    optCtrl = list(maxfun = 2e+05))

     AIC      BIC   logLik deviance df.resid
108914.8 109164.9 -54433.4 108866.8   247377

Scaled residuals:
   Min     1Q Median     3Q    Max
-4.917 -0.288 -0.157 -0.078 38.843

Random effects:
 Groups      Name        Variance Std.Dev.
 sa0100:wave (Intercept) 0.0925   0.3041
 sa0100      (Intercept) 0.5598   0.7482
Number of obs: 247401, groups:  sa0100:wave, 68; sa0100, 20

Fixed effects:
                      Estimate Std. Error z value Pr(>|z|)
(Intercept)          -3.892097   0.192220 -20.248  < 2e-16 ***
factor(wave)2        -0.246202   0.118344  -2.080   0.0375 *
factor(wave)3        -0.224233   0.116882  -1.918   0.0551 .
factor(wave)4        -0.202412   0.117454  -1.723   0.0848 .
hsize                -0.140772   0.007614 -18.488  < 2e-16 ***
head_gendrfemale      0.007299   0.016187   0.451   0.6520
age0-29              -0.086638   0.044846  -1.932   0.0534 .
age50-69              0.347249   0.022210  15.635  < 2e-16 ***
age+70                0.718069   0.029957  23.970  < 2e-16 ***
edu_refprimary       -0.339419   0.023786 -14.270  < 2e-16 ***
edu_reftertiary       0.112775   0.017978   6.273 3.54e-10 ***
homeownhomeowner      0.337538   0.019788  17.058  < 2e-16 ***
otherpmultiowner      1.574960   0.016774  93.891  < 2e-16 ***
bondshas-bonds        0.646548   0.033567  19.262  < 2e-16 ***
mutualhas-mutual      0.363460   0.023051  15.768  < 2e-16 ***
shareshas-shares      0.546084   0.022425  24.352  < 2e-16 ***
managedhas-managed    0.431397   0.038573  11.184  < 2e-16 ***
otherfinhas-otherfin  0.318282   0.033626   9.465  < 2e-16 ***
haspvpenshas-pvpens   0.533385   0.017914  29.775  < 2e-16 ***
class_nomanager2      0.794730   0.177216   4.485 7.31e-06 ***
class_nomanager3      0.400575   0.159923   2.505   0.0123 *
class_nomanager4      0.666198   0.022201  30.007  < 2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

-----------------------------------------------------------------------------------------------
-------------------A) WITH MANAGERS
       Feature        Gain       Cover  Frequency
 1:     sa0100 0.398016208 0.300680258 0.30242424
 2:      class 0.182399598 0.068364293 0.07272727
 3:     otherp 0.175618795 0.115328588 0.06242424
 4:        age 0.084572130 0.089739245 0.10757576
 5:     shares 0.047829081 0.051668312 0.03242424
 6:  haspvpens 0.022406270 0.037037891 0.06545455
 7:      hsize 0.019040322 0.059314067 0.07575758
 8:    homeown 0.015174979 0.048671795 0.03030303
 9:     mutual 0.013487357 0.045413066 0.02484848
10:    managed 0.011255894 0.040530666 0.03939394
11:    edu_ref 0.010968012 0.034228805 0.05424242
12:      bonds 0.008557215 0.044558313 0.03515152
13:       wave 0.005406768 0.023771767 0.05787879
14:   otherfin 0.002635287 0.032523253 0.01878788
15: head_gendr 0.002632084 0.008169682 0.02060606
[1] "LightGBM Accuracy: 0.859841768017087"
Confusion Matrix and Statistics

          Reference
Prediction      0      1
         0 825371  66987
         1  90699 142000

               Accuracy : 0.8598
                 95% CI : (0.8592, 0.8605)
    No Information Rate : 0.8142
    P-Value [Acc > NIR] : < 2.2e-16

                  Kappa : 0.5561

 Mcnemar's Test P-Value : < 2.2e-16

            Sensitivity : 0.6795
            Specificity : 0.9010
         Pos Pred Value : 0.6102
         Neg Pred Value : 0.9249
             Prevalence : 0.1858
         Detection Rate : 0.1262
   Detection Prevalence : 0.2068
      Balanced Accuracy : 0.7902

       'Positive' Class : 1

-------------------B) NO MANAGERS
            Feature        Gain       Cover  Frequency
 1:          sa0100 0.397666032 0.313225779 0.30242424
 2: class_nomanager 0.182733021 0.060002121 0.05606061
 3:          otherp 0.176483880 0.119337902 0.06181818
 4:             age 0.083858052 0.088991242 0.11393939
 5:          shares 0.047314970 0.053770374 0.03363636
 6:       haspvpens 0.023049271 0.038156351 0.06303030
 7:           hsize 0.017881236 0.059211449 0.07333333
 8:         homeown 0.014881910 0.047179202 0.03484848
 9:          mutual 0.013565857 0.040344710 0.02484848
10:         managed 0.012932541 0.040788508 0.04272727
11:         edu_ref 0.010768655 0.031389874 0.05575758
12:           bonds 0.008537359 0.041768996 0.03727273
13:            wave 0.005358318 0.028260663 0.05787879
14:        otherfin 0.002570061 0.029555605 0.02030303
15:      head_gendr 0.002398837 0.008017224 0.02212121
[1] "LightGBM Accuracy: 0.858933369598163"
Confusion Matrix and Statistics

          Reference
Prediction      0      1
         0 823905  66933
         1  91775 142444

               Accuracy : 0.8589
                 95% CI : (0.8583, 0.8596)
    No Information Rate : 0.8139
    P-Value [Acc > NIR] : < 2.2e-16

                  Kappa : 0.5547

 Mcnemar's Test P-Value : < 2.2e-16

            Sensitivity : 0.6803
            Specificity : 0.8998
         Pos Pred Value : 0.6082
         Neg Pred Value : 0.9249
             Prevalence : 0.1861
         Detection Rate : 0.1266
   Detection Prevalence : 0.2082
      Balanced Accuracy : 0.7900

       'Positive' Class : 1