[1] "############### FIRST TEST USING LM ###############"
$Coef
                        q_0.5
(Intercept)         194633.12
workerNon-Worker     38295.89
sexWomen            -36464.66
youngNot-Young       22487.14
homeownerNon-Owner -213504.79

$SE
                       q_0.5
(Intercept)        10259.239
workerNon-Worker    6744.790
sexWomen            4938.738
youngNot-Young      9934.423
homeownerNon-Owner  5713.669

$t
                        q_0.5
(Intercept)         18.971496
workerNon-Worker     5.677848
sexWomen            -7.383396
youngNot-Young       2.263557
homeownerNon-Owner -37.367372

$p
                           q_0.5
(Intercept)         1.168506e-77
workerNon-Worker    1.437958e-08
sexWomen            1.787418e-13
youngNot-Young      2.364238e-02
homeownerNon-Owner 6.298313e-271

$adjusted_r2
          [,1]
q_0.5 0.240799

$Coef
                        q_0.5
(Intercept)         199858.81
workerNon-Worker     47064.81
sexWomen            -42244.45
youngNot-Young       32342.51
homeownerNon-Owner -230833.26

$SE
                       q_0.5
(Intercept)        11120.614
workerNon-Worker    7142.535
sexWomen            5269.183
youngNot-Young     10802.265
homeownerNon-Owner  6155.705

$t
                        q_0.5
(Intercept)         17.971922
workerNon-Worker     6.589370
sexWomen            -8.017266
youngNot-Young       2.994049
homeownerNon-Owner -37.499081

$p
                           q_0.5
(Intercept)         1.807285e-70
workerNon-Worker    4.774194e-11
sexWomen            1.278621e-15
youngNot-Young      2.763696e-03
homeownerNon-Owner 5.218543e-278

$adjusted_r2
           [,1]
q_0.5 0.2145909

[1] "############### METHOD 1: RIF DECOMPOSITION ###############"
[1] "Endowments effect: -109031911.156403"
[1] "Coefficients effect: -2953113091.9403"
[1] "Interaction effect: 353945768.733574"
[1] "Total effect: -2708199234.36313"
[1] "############### METHOD 2.A: OAXACA DECOMPOSITION oaxaca R ###############"
$beta
$beta$beta.A
       (Intercept)           sexWomen     youngNot-Young homeownerNon-Owner 
      2.999684e+05      -4.444037e+05       3.838552e+05      -4.242351e+05 
           renthog 
      9.257008e+00 

$beta$beta.B
       (Intercept)           sexWomen     youngNot-Young homeownerNon-Owner 
     -3.250144e+06      -8.769570e+05       1.417734e+06       2.386596e+06 
           renthog 
      6.692287e+01 

$beta$beta.diff
       (Intercept)           sexWomen     youngNot-Young homeownerNon-Owner 
      3.550112e+06       4.325533e+05      -1.033879e+06      -2.810831e+06 
           renthog 
     -5.766587e+01 

$beta$beta.R
                (Intercept)  sexWomen youngNot-Young homeownerNon-Owner   renthog
[1,]  0.0000000  -3250143.6 -876957.0      1417734.5          2386596.3 66.922875
[2,]  1.0000000    299968.4 -444403.7       383855.2          -424235.1  9.257008
[3,]  0.5000000  -1475087.6 -660680.3       900794.8           981180.6 38.089941
[4,]  0.7801362   -480572.6 -539506.5       611167.8           193764.9 21.935643
[5,] -1.0000000   -937519.0 -373579.9       531211.3           176834.6 33.950727
[6,] -2.0000000  -1254364.8 -283379.5       350181.1           296528.2 33.704546


$call
oaxaca(formula = riquezabr ~ sex + young + homeowner + renthog + 
    homeowner | worker1, data = dt_eff)

$n
$n$n.A
[1] 4925

$n$n.B
[1] 1388

$n$n.pooled
[1] 6313


$R
[1] 100

$reg
$reg$reg.A

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerNon-Owner  
         3.000e+05          -4.444e+05           3.839e+05          -4.242e+05  
           renthog  
         9.257e+00  


$reg$reg.B

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerNon-Owner  
        -3.250e+06          -8.770e+05           1.418e+06           2.387e+06  
           renthog  
         6.692e+01  


$reg$reg.pooled.1

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerNon-Owner  
        -937519.03          -373579.90           531211.31           176834.60  
           renthog  
             33.95  


$reg$reg.pooled.2

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerNon-Owner  
        -1254364.8           -283379.5            350181.1            296528.2  
           renthog             worker1  
              33.7           2027308.7  



$threefold
$threefold$overall
  coef(endowments)     se(endowments) coef(coefficients)   se(coefficients) 
        -2014630.2          1003985.9         -2721894.2           851923.2 
 coef(interaction)    se(interaction) 
         1651967.1          1004091.9 

$threefold$variables
                   coef(endowments) se(endowments) coef(coefficients)
(Intercept)                    0.00           0.00          3550111.9
sexWomen                  -65950.41      124154.57           149274.5
youngNot-Young            -41221.30       42908.66         -1013767.8
homeownerNon-Owner        171586.43      169813.38          -394893.5
renthog                 -2079044.93     1109288.96         -5012619.4
                   se(coefficients) coef(interaction) se(interaction)
(Intercept)               2806685.6              0.00            0.00
sexWomen                   557073.0          32529.61       125946.97
youngNot-Young            1439794.1          30060.53        43242.62
homeownerNon-Owner         325200.7        -202087.18       172179.40
renthog                   3121951.2        1791464.11      1121436.69


$twofold
$twofold$overall
     group.weight coef(explained) se(explained) coef(unexplained) se(unexplained)
[1,]    0.0000000      -2014630.2     1003985.9          -1069927        635327.4
[2,]    1.0000000       -362663.1      245703.6          -2721894        851923.2
[3,]    0.5000000      -1188646.7      531158.0          -1895911        559157.3
[4,]    0.7801362       -725870.9      791650.6          -2358686        549122.8
[5,]   -1.0000000      -1085549.0      659156.4          -1999008        576382.6
[6,]   -2.0000000      -1057248.7      657096.1          -2027309        583514.2
     coef(unexplained A) se(unexplained A) coef(unexplained B) se(unexplained B)
[1,]       -1.069927e+06      6.353274e+05                   0               0.0
[2,]        0.000000e+00      0.000000e+00            -2721894          851923.2
[3,]       -5.349636e+05      3.176637e+05            -1360947          425961.6
[4,]       -2.352382e+05      4.956419e+05            -2123448          187307.1
[5,]       -4.395095e+05      1.263306e+05            -1559499          450674.2
[6,]       -1.024455e-08      3.155206e-08            -2027309          583514.2

$twofold$variables
$twofold$variables[[1]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                   0            0.00          0.00         3550111.9
sexWomen                      0       -65950.41     124154.57          181804.1
youngNot-Young                0       -41221.30      42908.66         -983707.3
homeownerNon-Owner            0       171586.43     169813.38         -596980.6
renthog                       0     -2079044.93    1109288.96        -3221155.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              2806685.6           3550111.9         2806685.6
sexWomen                  680967.7            181804.1          680967.7
youngNot-Young           1397298.3           -983707.3         1397298.3
homeownerNon-Owner        492605.0           -596980.6          492605.0
renthog                  2084644.8          -3221155.3         2084644.8
                   coef(unexplained B) se(unexplained B)
(Intercept)                          0                 0
sexWomen                             0                 0
youngNot-Young                       0                 0
homeownerNon-Owner                   0                 0
renthog                              0                 0

$twofold$variables[[2]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                   1            0.00         0.000         3550111.9
sexWomen                      1       -33420.80     13215.961          149274.5
youngNot-Young                1       -11160.77      2849.467        -1013767.8
homeownerNon-Owner            1       -30500.75     13573.961         -394893.5
renthog                       1      -287580.82    260054.654        -5012619.4
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              2806685.6                   0                 0
sexWomen                  557073.0                   0                 0
youngNot-Young           1439794.1                   0                 0
homeownerNon-Owner        325200.7                   0                 0
renthog                  3121951.2                   0                 0
                   coef(unexplained B) se(unexplained B)
(Intercept)                  3550111.9         2806685.6
sexWomen                      149274.5          557073.0
youngNot-Young              -1013767.8         1439794.1
homeownerNon-Owner           -394893.5          325200.7
renthog                     -5012619.4         3121951.2

$twofold$variables[[3]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                 0.5            0.00          0.00         3550111.9
sexWomen                    0.5       -49685.61      61877.70          165539.3
youngNot-Young              0.5       -26191.03      21381.19         -998737.5
homeownerNon-Owner          0.5        70542.84      84255.46         -495937.1
renthog                     0.5     -1183312.87     578506.82        -4116887.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              2806685.6          1775055.97         1403342.8
sexWomen                  618916.8            90902.07          340483.8
youngNot-Young           1418540.6          -491853.64          698649.2
homeownerNon-Owner        408406.9          -298490.32          246302.5
renthog                  2594562.9         -1610577.64         1042322.4
                   coef(unexplained B) se(unexplained B)
(Intercept)                 1775055.97         1403342.8
sexWomen                      74637.26          278536.5
youngNot-Young              -506883.90          719897.0
homeownerNon-Owner          -197446.73          162600.4
renthog                    -2506309.69         1560975.6

$twofold$variables[[4]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)           0.7801362            0.00          0.00         3550111.9
sexWomen              0.7801362       -40572.89      96658.58          156426.6
youngNot-Young        0.7801362       -17769.99      33427.52        -1007158.6
homeownerNon-Owner    0.7801362        13930.90     132106.12         -439325.1
renthog               0.7801362      -681458.88     871281.90        -4618741.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              2806685.6           780541.01         2189597.1
sexWomen                  653660.5            39972.14          531247.6
youngNot-Young           1406637.7          -216281.59         1090083.0
homeownerNon-Owner        455493.7          -131254.42          384299.0
renthog                  2305966.2          -708215.35         1626306.9
                   coef(unexplained B) se(unexplained B)
(Intercept)                  2769570.9         617088.49
sexWomen                      116454.5         122480.18
youngNot-Young               -790877.0         316558.56
homeownerNon-Owner           -308070.7          71499.86
renthog                     -3910526.0         686403.96

$twofold$variables[[5]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                  -1            0.00         0.000         3550111.9
sexWomen                     -1       -28094.59     26074.289          143948.3
youngNot-Young               -1       -15445.22      7987.049        -1009483.4
homeownerNon-Owner           -1        12713.68     36117.544         -438107.9
renthog                      -1     -1054722.88    702982.937        -4245477.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              2806685.6          1237487.39         819879.53
sexWomen                  565000.6           -29767.56         115655.43
youngNot-Young           1433757.3          -140205.23         246128.19
homeownerNon-Owner        352593.9          -127658.66          96280.33
renthog                  2845259.7         -1379365.45         795755.84
                   coef(unexplained B) se(unexplained B)
(Intercept)                  2312624.6         2475315.7
sexWomen                      173715.9          531503.2
youngNot-Young               -869278.1         1242716.3
homeownerNon-Owner           -310449.2          275286.9
renthog                     -2866111.9         2446830.8

$twofold$variables[[6]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                  -2            0.00         0.000         3550111.9
sexWomen                     -2       -21311.19     24629.024          137164.9
youngNot-Young               -2       -10181.68      7339.409        -1014746.9
homeownerNon-Owner           -2        21319.15     37181.375         -446713.4
renthog                      -2     -1047074.95    700614.764        -4253125.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              2806685.6          1554333.13          839044.6
sexWomen                  564684.6           -67679.21          112343.5
youngNot-Young           1434161.0            32039.99          236404.2
homeownerNon-Owner        354074.2          -153079.88           99735.3
renthog                  2845255.4         -1365614.03          794267.4
                   coef(unexplained B) se(unexplained B)
(Intercept)                  1995778.8         2434978.2
sexWomen                      204844.1          532480.4
youngNot-Young              -1046786.9         1258301.5
homeownerNon-Owner           -293633.5          272281.7
renthog                     -2887511.2         2446307.6



$x
$x$x.mean.A
       (Intercept)           sexWomen     youngNot-Young homeownerNon-Owner 
      1.000000e+00       4.203046e-01       9.514721e-01       2.123858e-01 
           renthog 
      5.585896e+04 

$x$x.mean.B
       (Intercept)           sexWomen     youngNot-Young homeownerNon-Owner 
      1.000000e+00       3.451009e-01       9.805476e-01       1.404899e-01 
           renthog 
      8.692524e+04 

$x$x.mean.diff
       (Intercept)           sexWomen     youngNot-Young homeownerNon-Owner 
      0.000000e+00       7.520370e-02      -2.907547e-02       7.189587e-02 
           renthog 
     -3.106628e+04 


$y
$y$y.A
[1] 905396.3

$y$y.B
[1] 3989954

$y$y.diff
[1] -3084557


attr(,"class")
[1] "oaxaca"
[1] "############### METHOD 2.B: OAXACA DECOMPOSITION dineq R ###############"
$inequality_measures
              gini                mld              theil variance_logincome 
          0.630951           1.227177           1.048633           5.065866 

$decomposition_inequality
     worker         sex       young   homeowner    residual 
0.011661280 0.005480691 0.001940860 0.446036138 0.534881032 

$regression_results

Call:
stats::lm(formula = formula, data = df, weights = weights)

Weighted Residuals:
      Min        1Q    Median        3Q       Max 
-0.277884 -0.004180  0.002696  0.007926  0.231274 

Coefficients:
                   Estimate Std. Error t value Pr(>|t|)    
(Intercept)        12.22907    0.08894 137.491  < 2e-16 ***
workerNon-Worker    0.54541    0.05650   9.654  < 2e-16 ***
sexWomen           -0.28960    0.04187  -6.917 5.07e-12 ***
youngNot-Young      0.10246    0.08654   1.184    0.236    
homeownerNon-Owner -3.45763    0.04975 -69.501  < 2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.02084 on 6242 degrees of freedom
Multiple R-squared:  0.4651,	Adjusted R-squared:  0.4648 
F-statistic:  1357 on 4 and 6242 DF,  p-value: < 2.2e-16


$note
[1] "66 negative or zero x's deleted (unweighted)"

