[1] "############### FIRST TEST USING LM ###############"
$Coef
                       q_0.5
(Intercept)        -18871.67
workerNon-Worker    38295.89
sexWomen           -36464.66
youngNot-Young      22487.14
homeownerHomeowner 213504.79

$SE
                      q_0.5
(Intercept)        9830.935
workerNon-Worker   6744.790
sexWomen           4938.738
youngNot-Young     9934.423
homeownerHomeowner 5713.669

$t
                       q_0.5
(Intercept)        -1.919621
workerNon-Worker    5.677848
sexWomen           -7.383396
youngNot-Young      2.263557
homeownerHomeowner 37.367372

$p
                           q_0.5
(Intercept)         5.496048e-02
workerNon-Worker    1.437958e-08
sexWomen            1.787418e-13
youngNot-Young      2.364238e-02
homeownerHomeowner 6.298313e-271

$adjusted_r2
          [,1]
q_0.5 0.240799

$Coef
                       q_0.5
(Intercept)        -30974.46
workerNon-Worker    47064.81
sexWomen           -42244.45
youngNot-Young      32342.51
homeownerHomeowner 230833.26

$SE
                       q_0.5
(Intercept)        10681.530
workerNon-Worker    7142.535
sexWomen            5269.183
youngNot-Young     10802.265
homeownerHomeowner  6155.705

$t
                       q_0.5
(Intercept)        -2.899815
workerNon-Worker    6.589370
sexWomen           -8.017266
youngNot-Young      2.994049
homeownerHomeowner 37.499081

$p
                           q_0.5
(Intercept)         3.746726e-03
workerNon-Worker    4.774194e-11
sexWomen            1.278621e-15
youngNot-Young      2.763696e-03
homeownerHomeowner 5.218543e-278

$adjusted_r2
           [,1]
q_0.5 0.2145909

[1] "############### METHOD 1: RIF DECOMPOSITION ###############"
[1] "Endowments effect: -2656317718.64174"
[1] "Coefficients effect: -113106745119.191"
[1] "Interaction effect: 8623093981.87647"
[1] "Total effect: -107139968855.956"
[1] "############### METHOD 2.A: OAXACA DECOMPOSITION oaxaca R ###############"
$beta
$beta$beta.A
       (Intercept)           sexWomen     youngNot-Young homeownerHomeowner 
     -1.242667e+05      -4.444037e+05       3.838552e+05       4.242351e+05 
           renthog 
      9.257008e+00 

$beta$beta.B
       (Intercept)           sexWomen     youngNot-Young homeownerHomeowner 
     -8.635473e+05      -8.769570e+05       1.417734e+06      -2.386596e+06 
           renthog 
      6.692287e+01 

$beta$beta.diff
       (Intercept)           sexWomen     youngNot-Young homeownerHomeowner 
      7.392805e+05       4.325533e+05      -1.033879e+06       2.810831e+06 
           renthog 
     -5.766587e+01 

$beta$beta.R
                (Intercept)  sexWomen youngNot-Young homeownerHomeowner   renthog
[1,]  0.0000000   -863547.3 -876957.0      1417734.5         -2386596.3 66.922875
[2,]  1.0000000   -124266.7 -444403.7       383855.2           424235.1  9.257008
[3,]  0.5000000   -493907.0 -660680.3       900794.8          -981180.6 38.089941
[4,]  0.7801362   -286807.8 -539506.5       611167.8          -193764.9 21.935643
[5,] -1.0000000   -760684.4 -373579.9       531211.3          -176834.6 33.950727
[6,] -2.0000000   -957836.6 -283379.5       350181.1          -296528.2 33.704546


$call
oaxaca(formula = riquezabr ~ sex + young + homeowner + renthog + 
    homeowner | worker1, data = dt_eff)

$n
$n$n.A
[1] 4925

$n$n.B
[1] 1388

$n$n.pooled
[1] 6313


$R
[1] 100

$reg
$reg$reg.A

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerHomeowner  
        -1.243e+05          -4.444e+05           3.839e+05           4.242e+05  
           renthog  
         9.257e+00  


$reg$reg.B

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerHomeowner  
        -8.635e+05          -8.770e+05           1.418e+06          -2.387e+06  
           renthog  
         6.692e+01  


$reg$reg.pooled.1

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerHomeowner  
        -760684.43          -373579.90           531211.31          -176834.60  
           renthog  
             33.95  


$reg$reg.pooled.2

Call:
NULL

Coefficients:
       (Intercept)            sexWomen      youngNot-Young  homeownerHomeowner  
         -957836.6           -283379.5            350181.1           -296528.2  
           renthog             worker1  
              33.7           2027308.7  



$threefold
$threefold$overall
  coef(endowments)     se(endowments) coef(coefficients)   se(coefficients) 
        -2014630.2           943636.9         -2721894.2           792996.4 
 coef(interaction)    se(interaction) 
         1651967.1           890434.5 

$threefold$variables
                   coef(endowments) se(endowments) coef(coefficients) se(coefficients)
(Intercept)                    0.00           0.00           739280.5        1569226.7
sexWomen                  -65950.41       93361.47           149274.5         436797.9
youngNot-Young            -41221.30       44588.99         -1013767.8        1438034.8
homeownerHomeowner        171586.43      191125.64          2415937.9        2210541.9
renthog                 -2079044.93     1046492.13         -5012619.4        2647676.7
                   coef(interaction) se(interaction)
(Intercept)                     0.00            0.00
sexWomen                    32529.61        95377.82
youngNot-Young              30060.53        44895.30
homeownerHomeowner        -202087.18       191131.56
renthog                   1791464.11      1003513.84


$twofold
$twofold$overall
     group.weight coef(explained) se(explained) coef(unexplained) se(unexplained)
[1,]    0.0000000      -2014630.2      943636.9          -1069927        527907.8
[2,]    1.0000000       -362663.1      280737.5          -2721894        792996.4
[3,]    0.5000000      -1188646.7      535176.3          -1895911        505516.1
[4,]    0.7801362       -725870.9      758949.5          -2358686        468696.9
[5,]   -1.0000000      -1085549.0      737340.9          -1999008        514869.1
[6,]   -2.0000000      -1057248.7      735495.8          -2027309        521496.9
     coef(unexplained A) se(unexplained A) coef(unexplained B) se(unexplained B)
[1,]       -1.069927e+06      5.279078e+05                   0               0.0
[2,]        0.000000e+00      0.000000e+00            -2721894          792996.4
[3,]       -5.349636e+05      2.639539e+05            -1360947          396498.2
[4,]       -2.352382e+05      4.118400e+05            -2123448          174351.2
[5,]       -4.395095e+05      1.120971e+05            -1559499          403326.6
[6,]       -1.164153e-09      4.827000e-08            -2027309          521496.9

$twofold$variables
$twofold$variables[[1]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                   0            0.00          0.00          739280.5
sexWomen                      0       -65950.41      93361.47          181804.1
youngNot-Young                0       -41221.30      44588.99         -983707.3
homeownerHomeowner            0       171586.43     191125.64         2213850.8
renthog                       0     -2079044.93    1046492.13        -3221155.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              1569226.7            739280.5         1569226.7
sexWomen                  529168.7            181804.1          529168.7
youngNot-Young           1394112.0           -983707.3         1394112.0
homeownerHomeowner       2025778.6           2213850.8         2025778.6
renthog                  1721060.1          -3221155.3         1721060.1
                   coef(unexplained B) se(unexplained B)
(Intercept)                          0                 0
sexWomen                             0                 0
youngNot-Young                       0                 0
homeownerHomeowner                   0                 0
renthog                              0                 0

$twofold$variables[[2]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                   1            0.00         0.000          739280.5
sexWomen                      1       -33420.80     13164.660          149274.5
youngNot-Young                1       -11160.77      3349.143        -1013767.8
homeownerHomeowner            1       -30500.75     15136.553         2415937.9
renthog                       1      -287580.82    298960.326        -5012619.4
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              1569226.7                   0                 0
sexWomen                  436797.9                   0                 0
youngNot-Young           1438034.8                   0                 0
homeownerHomeowner       2210541.9                   0                 0
renthog                  2647676.7                   0                 0
                   coef(unexplained B) se(unexplained B)
(Intercept)                   739280.5         1569226.7
sexWomen                      149274.5          436797.9
youngNot-Young              -1013767.8         1438034.8
homeownerHomeowner           2415937.9         2210541.9
renthog                     -5012619.4         2647676.7

$twofold$variables[[3]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                 0.5            0.00          0.00          739280.5
sexWomen                    0.5       -49685.61      46589.74          165539.3
youngNot-Young              0.5       -26191.03      22266.58         -998737.5
homeownerHomeowner          0.5        70542.84      96157.39         2314894.4
renthog                     0.5     -1183312.87     583525.08        -4116887.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              1569226.7           369640.27          784613.3
sexWomen                  482837.2            90902.07          264584.4
youngNot-Young           1416065.8          -491853.64          697056.0
homeownerHomeowner       2118019.0          1106925.38         1012889.3
renthog                  2175858.4         -1610577.64          860530.1
                   coef(unexplained B) se(unexplained B)
(Intercept)                  369640.27          784613.3
sexWomen                      74637.26          218398.9
youngNot-Young              -506883.90          719017.4
homeownerHomeowner          1207968.97         1105271.0
renthog                    -2506309.69         1323838.4

$twofold$variables[[4]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)           0.7801362            0.00          0.00          739280.5
sexWomen              0.7801362       -40572.89      72647.90          156426.6
youngNot-Young        0.7801362       -17769.99      34753.34        -1007158.6
homeownerHomeowner    0.7801362        13930.90     149271.56         2371506.3
renthog               0.7801362      -681458.88     837426.11        -4618741.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              1569226.7           162541.01         1224210.6
sexWomen                  508764.5            39972.14          412823.7
youngNot-Young           1403763.8          -216281.59         1087597.3
homeownerHomeowner       2066302.0           486745.58         1580383.3
renthog                  1918165.0          -708215.35         1342661.4
                   coef(unexplained B) se(unexplained B)
(Intercept)                   576739.5         345016.10
sexWomen                      116454.5          96036.03
youngNot-Young               -790877.0         316171.76
homeownerHomeowner           1884760.7         486018.08
renthog                     -3910526.0         582128.19

$twofold$variables[[5]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                  -1            0.00         0.000          739280.5
sexWomen                     -1       -28094.59     31109.619          143948.3
youngNot-Young               -1       -15445.22      9362.778        -1009483.4
homeownerHomeowner           -1        12713.68     44256.566         2372723.5
renthog                      -1     -1054722.88    794190.326        -4245477.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              1569226.7           636417.68          603915.7
sexWomen                  448198.7           -29767.56          140838.1
youngNot-Young           1431277.2          -140205.23          279327.1
homeownerHomeowner       2176238.3           473411.04          433274.3
renthog                  2267713.2         -1379365.45          910504.5
                   coef(unexplained B) se(unexplained B)
(Intercept)                   102862.8         1345143.4
sexWomen                      173715.9          408793.9
youngNot-Young               -869278.1         1233558.4
homeownerHomeowner           1899312.5         1817361.3
renthog                     -2866111.9         1833091.4

$twofold$variables[[6]]
                   group.weight coef(explained) se(explained) coef(unexplained)
(Intercept)                  -2            0.00         0.000          739280.5
sexWomen                     -2       -21311.19     29526.634          137164.9
youngNot-Young               -2       -10181.68      7991.257        -1014746.9
homeownerHomeowner           -2        21319.15     44550.777         2364118.0
renthog                      -2     -1047074.95    791377.417        -4253125.3
                   se(unexplained) coef(unexplained A) se(unexplained A)
(Intercept)              1569226.7           833569.82          597567.2
sexWomen                  448269.3           -67679.21          137422.9
youngNot-Young           1432139.1            32039.99          255057.6
homeownerHomeowner       2175381.8           567683.42          438176.8
renthog                  2268000.1         -1365614.03          908979.1
                   coef(unexplained B) se(unexplained B)
(Intercept)                  -94289.29         1347670.8
sexWomen                     204844.12          408829.5
youngNot-Young             -1046786.88         1258082.0
homeownerHomeowner          1796434.62         1804803.0
renthog                    -2887511.22         1832297.7



$x
$x$x.mean.A
       (Intercept)           sexWomen     youngNot-Young homeownerHomeowner 
      1.000000e+00       4.203046e-01       9.514721e-01       7.876142e-01 
           renthog 
      5.585896e+04 

$x$x.mean.B
       (Intercept)           sexWomen     youngNot-Young homeownerHomeowner 
      1.000000e+00       3.451009e-01       9.805476e-01       8.595101e-01 
           renthog 
      8.692524e+04 

$x$x.mean.diff
       (Intercept)           sexWomen     youngNot-Young homeownerHomeowner 
      0.000000e+00       7.520370e-02      -2.907547e-02      -7.189587e-02 
           renthog 
     -3.106628e+04 


$y
$y$y.A
[1] 905396.3

$y$y.B
[1] 3989954

$y$y.diff
[1] -3084557


attr(,"class")
[1] "oaxaca"
[1] "############### METHOD 2.B: OAXACA DECOMPOSITION dineq R ###############"
$inequality_measures
              gini                mld              theil variance_logincome 
          0.630951           1.227177           1.048633           5.065866 

$decomposition_inequality
     worker         sex       young   homeowner    residual 
0.011661280 0.005480691 0.001940860 0.446036138 0.534881032 

$regression_results

Call:
stats::lm(formula = formula, data = df, weights = weights)

Weighted Residuals:
      Min        1Q    Median        3Q       Max 
-0.277884 -0.004180  0.002696  0.007926  0.231274 

Coefficients:
                   Estimate Std. Error t value Pr(>|t|)    
(Intercept)         8.77144    0.08562 102.445  < 2e-16 ***
workerNon-Worker    0.54541    0.05650   9.654  < 2e-16 ***
sexWomen           -0.28960    0.04187  -6.917 5.07e-12 ***
youngNot-Young      0.10246    0.08654   1.184    0.236    
homeownerHomeowner  3.45763    0.04975  69.501  < 2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.02084 on 6242 degrees of freedom
Multiple R-squared:  0.4651,	Adjusted R-squared:  0.4648 
F-statistic:  1357 on 4 and 6242 DF,  p-value: < 2.2e-16


$note
[1] "66 negative or zero x's deleted (unweighted)"

